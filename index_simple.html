<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IQ í…ŒìŠ¤íŠ¸ - ì¸ì§€ëŠ¥ë ¥ í‰ê°€</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        header p {
            color: #8892b0;
            font-size: 1.1rem;
        }
        
        .intro-section {
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .intro-section h2 {
            color: #00d4ff;
            margin-bottom: 20px;
        }
        
        .intro-section ul {
            list-style: none;
            margin: 20px 0;
        }
        
        .intro-section li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
            color: #ccd6f6;
        }
        
        .intro-section li::before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #00d4ff;
        }
        
        .btn {
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            color: #fff;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0,212,255,0.3);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .test-section {
            display: none;
        }
        
        .question-card {
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            transition: width 0.3s;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .question-number {
            color: #00d4ff;
            font-size: 0.9rem;
        }
        
        .timer {
            color: #ff6b6b;
            font-size: 1.1rem;
            font-weight: bold;
        }
        
        .category-badge {
            background: rgba(123, 44, 191, 0.3);
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.8rem;
            color: #b794f6;
        }
        
        .question-text {
            font-size: 1.3rem;
            margin-bottom: 30px;
            line-height: 1.6;
            color: #e6f1ff;
        }
        
        .matrix-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            max-width: 300px;
            margin: 20px auto;
        }
        
        .matrix-cell {
            aspect-ratio: 1;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }
        
        .matrix-cell.empty {
            background: rgba(0,212,255,0.2);
            border: 2px dashed #00d4ff;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 30px;
        }
        
        .option {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .option:hover {
            border-color: #00d4ff;
            background: rgba(0,212,255,0.1);
        }
        
        .option.selected {
            border-color: #00d4ff;
            background: rgba(0,212,255,0.2);
        }
        
        .option-label {
            font-size: 1.1rem;
            color: #ccd6f6;
        }
        
        .sequence-display {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .sequence-item {
            width: 60px;
            height: 60px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .sequence-item.unknown {
            background: rgba(0,212,255,0.2);
            border: 2px dashed #00d4ff;
            color: #00d4ff;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .btn-secondary {
            background: transparent;
            border: 2px solid rgba(255,255,255,0.2);
        }
        
        .btn-secondary:hover {
            border-color: #00d4ff;
            box-shadow: none;
        }
        
        .results-section {
            display: none;
            text-align: center;
        }
        
        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, #00d4ff, #7b2cbf);
            margin: 40px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .score-number {
            font-size: 4rem;
            font-weight: bold;
        }
        
        .score-label {
            font-size: 1rem;
            opacity: 0.8;
        }
        
        .results-details {
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            text-align: left;
        }
        
        .result-category {
            margin-bottom: 25px;
        }
        
        .result-category h4 {
            color: #00d4ff;
            margin-bottom: 10px;
        }
        
        .result-bar {
            height: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .result-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            border-radius: 10px;
            transition: width 1s;
        }
        
        .result-score {
            text-align: right;
            margin-top: 5px;
            color: #8892b0;
            font-size: 0.9rem;
        }
        
        .iq-classification {
            margin-top: 30px;
            padding: 20px;
            background: rgba(0,212,255,0.1);
            border-radius: 15px;
            border: 1px solid rgba(0,212,255,0.3);
        }
        
        .iq-classification h3 {
            color: #00d4ff;
            margin-bottom: 10px;
        }
        
        .percentile-info {
            color: #8892b0;
            margin-top: 15px;
        }
        
        .shape-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .shape {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .shape svg {
            width: 100%;
            height: 100%;
        }
        
        .analogy-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .analogy-item {
            padding: 15px 25px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            font-size: 1.2rem;
        }
        
        .analogy-separator {
            color: #00d4ff;
            font-size: 1.5rem;
        }
        
        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            header h1 {
                font-size: 1.8rem;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ§  IQ ì¸ì§€ëŠ¥ë ¥ í…ŒìŠ¤íŠ¸</h1>
            <p>ê³¼í•™ì  ë¬¸ì œ ì„¤ê³„ ê¸°ë°˜ ì¢…í•© ì¸ì§€ëŠ¥ë ¥ í‰ê°€</p>
        </header>
        
        <!-- ì‹œì‘ í™”ë©´ -->
        <div class="intro-section" id="intro">
            <h2>í…ŒìŠ¤íŠ¸ ì•ˆë‚´</h2>
            <p>ë³¸ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ì–‘í•œ ì¸ì§€ ì˜ì—­ì„ ì¸¡ì •í•˜ëŠ” ì¢…í•© í‰ê°€ì…ë‹ˆë‹¤.</p>
            
            <ul>
                <li><strong>íŒ¨í„´ ì¸ì‹</strong> - ì‹œê°ì  íŒ¨í„´ê³¼ ê·œì¹™ ë°œê²¬ ëŠ¥ë ¥</li>
                <li><strong>ìˆ˜ì—´ ì¶”ë¡ </strong> - ìˆ˜í•™ì  íŒ¨í„´ ì¸ì‹ ëŠ¥ë ¥</li>
                <li><strong>ê³µê°„ ì¶”ë¡ </strong> - ë„í˜• íšŒì „ ë° ê³µê°„ ì§€ê° ëŠ¥ë ¥</li>
                <li><strong>ë…¼ë¦¬ ì¶”ë¡ </strong> - ë…¼ë¦¬ì  ì‚¬ê³ ë ¥</li>
                <li><strong>ì–¸ì–´ ìœ ì¶”</strong> - ê°œë… ê°„ ê´€ê³„ íŒŒì•… ëŠ¥ë ¥</li>
            </ul>
            
            <div style="margin-top: 30px; padding: 20px; background: rgba(255,107,107,0.1); border-radius: 10px; border: 1px solid rgba(255,107,107,0.3);">
                <p><strong>â±ï¸ ì œí•œ ì‹œê°„:</strong> ë¬¸ì œë‹¹ 60ì´ˆ</p>
                <p><strong>ğŸ“ ë¬¸í•­ ìˆ˜:</strong> ì´ 25ë¬¸í•­</p>
                <p><strong>âš ï¸ ì£¼ì˜:</strong> ê° ë¬¸ì œëŠ” í•œ ë²ˆë§Œ ë‹µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <button class="btn" onclick="startTest()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
            </div>
        </div>
        
        <!-- í…ŒìŠ¤íŠ¸ í™”ë©´ -->
        <div class="test-section" id="test">
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
            
            <div class="question-card">
                <div class="question-header">
                    <span class="question-number" id="questionNum">ë¬¸ì œ 1/25</span>
                    <span class="category-badge" id="categoryBadge">íŒ¨í„´ ì¸ì‹</span>
                    <span class="timer" id="timer">60ì´ˆ</span>
                </div>
                
                <div id="questionContent">
                    <!-- ë¬¸ì œ ë‚´ìš©ì´ ë™ì ìœ¼ë¡œ ì‚½ì…ë¨ -->
                </div>
                
                <div class="options-grid" id="optionsGrid">
                    <!-- ì„ íƒì§€ê°€ ë™ì ìœ¼ë¡œ ì‚½ì…ë¨ -->
                </div>
                
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="skipQuestion()">ê±´ë„ˆë›°ê¸°</button>
                    <button class="btn" id="nextBtn" onclick="nextQuestion()" disabled>ë‹¤ìŒ ë¬¸ì œ</button>
                </div>
            </div>
        </div>
        
        <!-- ê²°ê³¼ í™”ë©´ -->
        <div class="results-section" id="results">
            <h2>í…ŒìŠ¤íŠ¸ ì™„ë£Œ!</h2>
            
            <div class="score-circle">
                <span class="score-number" id="iqScore">--</span>
                <span class="score-label">IQ ì ìˆ˜</span>
            </div>
            
            <div class="iq-classification" id="iqClass">
                <h3 id="classLabel">ë¶„ë¥˜</h3>
                <p id="classDesc">ì„¤ëª…</p>
                <p class="percentile-info" id="percentile">ìƒìœ„ %</p>
            </div>
            
            <div class="results-details">
                <h3 style="margin-bottom: 30px; color: #e6f1ff;">ì˜ì—­ë³„ ë¶„ì„</h3>
                
                <div class="result-category">
                    <h4>íŒ¨í„´ ì¸ì‹ (Pattern Recognition)</h4>
                    <div class="result-bar">
                        <div class="result-bar-fill" id="patternBar" style="width: 0%"></div>
                    </div>
                    <div class="result-score" id="patternScore">0/5</div>
                </div>
                
                <div class="result-category">
                    <h4>ìˆ˜ì—´ ì¶”ë¡  (Numerical Reasoning)</h4>
                    <div class="result-bar">
                        <div class="result-bar-fill" id="numericalBar" style="width: 0%"></div>
                    </div>
                    <div class="result-score" id="numericalScore">0/5</div>
                </div>
                
                <div class="result-category">
                    <h4>ê³µê°„ ì¶”ë¡  (Spatial Reasoning)</h4>
                    <div class="result-bar">
                        <div class="result-bar-fill" id="spatialBar" style="width: 0%"></div>
                    </div>
                    <div class="result-score" id="spatialScore">0/5</div>
                </div>
                
                <div class="result-category">
                    <h4>ë…¼ë¦¬ ì¶”ë¡  (Logical Reasoning)</h4>
                    <div class="result-bar">
                        <div class="result-bar-fill" id="logicalBar" style="width: 0%"></div>
                    </div>
                    <div class="result-score" id="logicalScore">0/5</div>
                </div>
                
                <div class="result-category">
                    <h4>ì–¸ì–´ ìœ ì¶” (Verbal Analogies)</h4>
                    <div class="result-bar">
                        <div class="result-bar-fill" id="verbalBar" style="width: 0%"></div>
                    </div>
                    <div class="result-score" id="verbalScore">0/5</div>
                </div>
            </div>
            
            <button class="btn" onclick="location.reload()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
        </div>
    </div>
    
    <script>
        // ============================================
        // IQ í…ŒìŠ¤íŠ¸ ë¬¸ì œ ë°ì´í„°ë² ì´ìŠ¤
        // ============================================
        
        const questions = {
            // íŒ¨í„´ ì¸ì‹ ë¬¸ì œ (í–‰ë ¬ ì¶”ë¡  ìŠ¤íƒ€ì¼)
            pattern: [
                {
                    id: 'p1',
                    category: 'pattern',
                    categoryName: 'íŒ¨í„´ ì¸ì‹',
                    difficulty: 1,
                    question: 'ë‹¤ìŒ 3x3 í–‰ë ¬ì—ì„œ ë¹ˆ ì¹¸ì— ë“¤ì–´ê°ˆ ë„í˜•ì„ ê³ ë¥´ì„¸ìš”.',
                    matrix: ['â—', 'â—â—', 'â—â—â—', 'â– ', 'â– â– ', 'â– â– â– ', 'â–²', 'â–²â–²', '?'],
                    options: ['â–²', 'â–²â–²â–²', 'â– â– â– ', 'â—â—â—'],
                    correct: 1,
                    explanation: 'ê° í–‰ì—ì„œ ë„í˜•ì˜ ê°œìˆ˜ê°€ 1, 2, 3ìœ¼ë¡œ ì¦ê°€í•©ë‹ˆë‹¤.'
                },
                {
                    id: 'p2',
                    category: 'pattern',
                    categoryName: 'íŒ¨í„´ ì¸ì‹',
                    difficulty: 2,
                    question: 'ê·œì¹™ì„ ì°¾ì•„ ë¹ˆ ì¹¸ì— ë“¤ì–´ê°ˆ ê²ƒì„ ê³ ë¥´ì„¸ìš”.',
                    matrix: ['1', '2', '3', '2', '4', '6', '3', '6', '?'],
                    options: ['7', '8', '9', '12'],
                    correct: 2,
                    explanation: 'ê° í–‰ì˜ ì„¸ ë²ˆì§¸ ìˆ«ìëŠ” ì²« ë²ˆì§¸ì™€ ë‘ ë²ˆì§¸ì˜ í•©ì…ë‹ˆë‹¤. 3+6=9'
                },
                {
                    id: 'p3',
                    category: 'pattern',
                    categoryName: 'íŒ¨í„´ ì¸ì‹',
                    difficulty: 2,
                    question: 'íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬ ë¹ˆ ì¹¸ì„ ì±„ìš°ì„¸ìš”.',
                    matrix: ['â—‹', 'â—', 'â—', 'â–¡', 'â—§', 'â– ', 'â–³', 'â—­', '?'],
                    options: ['â–³', 'â–²', 'â—­', 'â—‹'],
                    correct: 1,
                    explanation: 'ê° í–‰ì—ì„œ ë„í˜•ì´ ì ì  ì±„ì›Œì§‘ë‹ˆë‹¤ (ë¹ˆ ê²ƒ â†’ ë°˜ì¯¤ â†’ ê°€ë“).'
                },
                {
                    id: 'p4',
                    category: 'pattern',
                    categoryName: 'íŒ¨í„´ ì¸ì‹',
                    difficulty: 3,
                    question: 'ê·œì¹™ì„ ì°¾ì•„ ? ì— ë“¤ì–´ê°ˆ ê°’ì„ ê³ ë¥´ì„¸ìš”.',
                    matrix: ['2', '4', '8', '3', '9', '27', '4', '16', '?'],
                    options: ['32', '48', '64', '256'],
                    correct: 2,
                    explanation: 'ê° í–‰ì€ n, nÂ², nÂ³ íŒ¨í„´ì…ë‹ˆë‹¤. 4Â³ = 64'
                },
                {
                    id: 'p5',
                    category: 'pattern',
                    categoryName: 'íŒ¨í„´ ì¸ì‹',
                    difficulty: 3,
                    question: 'í–‰ë ¬ì˜ ê·œì¹™ì„ ì°¾ì•„ ë¹ˆ ì¹¸ì„ ì™„ì„±í•˜ì„¸ìš”.',
                    matrix: ['A1', 'B2', 'C3', 'D4', 'E5', 'F6', 'G7', 'H8', '?'],
                    options: ['I9', 'J9', 'I10', 'J10'],
                    correct: 0,
                    explanation: 'ì•ŒíŒŒë²³ê³¼ ìˆ«ìê°€ ìˆœì„œëŒ€ë¡œ ì¦ê°€í•©ë‹ˆë‹¤.'
                }
            ],
            
            // ìˆ˜ì—´ ì¶”ë¡  ë¬¸ì œ
            numerical: [
                {
                    id: 'n1',
                    category: 'numerical',
                    categoryName: 'ìˆ˜ì—´ ì¶”ë¡ ',
                    difficulty: 1,
                    question: 'ë‹¤ìŒ ìˆ˜ì—´ì˜ ê·œì¹™ì„ ì°¾ì•„ ? ì— ë“¤ì–´ê°ˆ ìˆ«ìë¥¼ ê³ ë¥´ì„¸ìš”.',
                    sequence: [2, 4, 6, 8, '?'],
                    options: ['9', '10', '11', '12'],
                    correct: 1,
                    explanation: '2ì”© ì¦ê°€í•˜ëŠ” ë“±ì°¨ìˆ˜ì—´ì…ë‹ˆë‹¤.'
                },
                {
                    id: 'n2',
                    category: 'numerical',
                    categoryName: 'ìˆ˜ì—´ ì¶”ë¡ ',
                    difficulty: 2,
                    question: 'ê·œì¹™ì„ ì°¾ì•„ ë¹ˆ ì¹¸ì— ë“¤ì–´ê°ˆ ìˆ«ìë¥¼ ê³ ë¥´ì„¸ìš”.',
                    sequence: [1, 1, 2, 3, 5, 8, '?'],
                    options: ['11', '12', '13', '14'],
                    correct: 2,
                    explanation: 'í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ì…ë‹ˆë‹¤. ì•ì˜ ë‘ ìˆ˜ë¥¼ ë”í•˜ë©´ ë‹¤ìŒ ìˆ˜ê°€ ë©ë‹ˆë‹¤.'
                },
                {
                    id: 'n3',
                    category: 'numerical',
                    categoryName: 'ìˆ˜ì—´ ì¶”ë¡ ',
                    difficulty: 2,
                    question: 'ìˆ˜ì—´ì˜ ë‹¤ìŒ í•­ì„ êµ¬í•˜ì„¸ìš”.',
                    sequence: [3, 6, 12, 24, '?'],
                    options: ['36', '48', '30', '42'],
                    correct: 1,
                    explanation: 'ê° í•­ì´ 2ë°°ì”© ì¦ê°€í•˜ëŠ” ë“±ë¹„ìˆ˜ì—´ì…ë‹ˆë‹¤.'
                },
                {
                    id: 'n4',
                    category: 'numerical',
                    categoryName: 'ìˆ˜ì—´ ì¶”ë¡ ',
                    difficulty: 3,
                    question: 'ê·œì¹™ì„ ì°¾ì•„ ? ì— ë“¤ì–´ê°ˆ ìˆ«ìë¥¼ ê³ ë¥´ì„¸ìš”.',
                    sequence: [1, 4, 9, 16, 25, '?'],
                    options: ['30', '35', '36', '49'],
                    correct: 2,
                    explanation: 'ìì—°ìˆ˜ì˜ ì œê³±ìˆ˜ì—´ì…ë‹ˆë‹¤. (1Â², 2Â², 3Â², 4Â², 5Â², 6Â²)'
                },
                {
                    id: 'n5',
                    category: 'numerical',
                    categoryName: 'ìˆ˜ì—´ ì¶”ë¡ ',
                    difficulty: 3,
                    question: 'ë³µì¡í•œ ìˆ˜ì—´ì˜ ë‹¤ìŒ í•­ì„ êµ¬í•˜ì„¸ìš”.',
                    sequence: [2, 6, 12, 20, 30, '?'],
                    options: ['40', '42', '44', '46'],
                    correct: 1,
                    explanation: 'ì°¨ì´ê°€ 4, 6, 8, 10, 12ë¡œ ì¦ê°€í•©ë‹ˆë‹¤. (nÃ—(n+1) íŒ¨í„´)'
                }
            ],
            
            // ê³µê°„ ì¶”ë¡  ë¬¸ì œ
            spatial: [
                {
                    id: 's1',
                    category: 'spatial',
                    categoryName: 'ê³µê°„ ì¶”ë¡ ',
                    difficulty: 1,
                    question: 'ë„í˜•ì„ ì‹œê³„ë°©í–¥ìœ¼ë¡œ 90Â° íšŒì „í•˜ë©´ ì–´ë–¤ ëª¨ì–‘ì´ ë ê¹Œìš”?',
                    shapeType: 'rotation',
                    shape: 'Lì ëª¨ì–‘ (â”˜)',
                    options: ['â”', 'â”Œ', 'â””', 'â”€'],
                    correct: 2,
                    explanation: 'ì‹œê³„ë°©í–¥ 90Â° íšŒì „ ì‹œ â”˜ â†’ â””'
                },
                {
                    id: 's2',
                    category: 'spatial',
                    categoryName: 'ê³µê°„ ì¶”ë¡ ',
                    difficulty: 2,
                    question: 'ì „ê°œë„ë¥¼ ì ‘ì—ˆì„ ë•Œ ë§Œë“¤ì–´ì§€ëŠ” ì •ìœ¡ë©´ì²´ì—ì„œ 1ì˜ ë§ì€í¸ ë©´ì˜ ìˆ«ìëŠ”?',
                    shapeType: 'cube',
                    cubeNet: 'ì‹­ìí˜• ì „ê°œë„: ìƒ(2) / ì¢Œ(3)-ì¤‘(1)-ìš°(4) / í•˜(5) / ë§¨ì•„ë˜(6)',
                    options: ['2', '4', '5', '6'],
                    correct: 3,
                    explanation: 'ì‹­ìí˜• ì „ê°œë„ì—ì„œ 1ì˜ ë§ì€í¸ì€ 6ì…ë‹ˆë‹¤.'
                },
                {
                    id: 's3',
                    category: 'spatial',
                    categoryName: 'ê³µê°„ ì¶”ë¡ ',
                    difficulty: 2,
                    question: 'ê±°ìš¸ì— ë¹„ì¹œ ê¸€ì "B"ëŠ” ì–´ë–»ê²Œ ë³´ì¼ê¹Œìš”?',
                    shapeType: 'mirror',
                    options: ['B', 'á—º', 'd', 'q'],
                    correct: 1,
                    explanation: 'ê±°ìš¸ì— ë¹„ì¹˜ë©´ ì¢Œìš°ê°€ ë°˜ì „ë©ë‹ˆë‹¤.'
                },
                {
                    id: 's4',
                    category: 'spatial',
                    categoryName: 'ê³µê°„ ì¶”ë¡ ',
                    difficulty: 3,
                    question: 'ì£¼ì–´ì§„ ì¡°ê°ë“¤ì„ ì¡°í•©í•˜ë©´ ì–´ë–¤ ë„í˜•ì´ ì™„ì„±ë ê¹Œìš”? ì¡°ê°: ì§ê°ì‚¼ê°í˜• 2ê°œ, ì •ì‚¬ê°í˜• 1ê°œ',
                    shapeType: 'assembly',
                    options: ['ì •ì‚¬ê°í˜•', 'ì§ì‚¬ê°í˜•', 'í‰í–‰ì‚¬ë³€í˜•', 'ë§ˆë¦„ëª¨'],
                    correct: 1,
                    explanation: 'ì§ê°ì‚¼ê°í˜• 2ê°œì™€ ì •ì‚¬ê°í˜• 1ê°œë¥¼ ì ì ˆíˆ ë°°ì¹˜í•˜ë©´ ì§ì‚¬ê°í˜•ì´ ë©ë‹ˆë‹¤.'
                },
                {
                    id: 's5',
                    category: 'spatial',
                    categoryName: 'ê³µê°„ ì¶”ë¡ ',
                    difficulty: 3,
                    question: 'ì •ìœ¡ë©´ì²´ë¥¼ ëŒ€ê°ì„ ìœ¼ë¡œ ìë¥´ë©´ ë‹¨ë©´ì€ ì–´ë–¤ ëª¨ì–‘ì¼ê¹Œìš”?',
                    shapeType: 'cross-section',
                    options: ['ì •ì‚¬ê°í˜•', 'ì§ì‚¬ê°í˜•', 'ì •ì‚¼ê°í˜•', 'ì •ìœ¡ê°í˜•'],
                    correct: 1,
                    explanation: 'ì •ìœ¡ë©´ì²´ë¥¼ ëŒ€ê°ì„ ìœ¼ë¡œ ìë¥´ë©´ ì§ì‚¬ê°í˜• ë‹¨ë©´ì´ ìƒê¹ë‹ˆë‹¤.'
                }
            ],
            
            // ë…¼ë¦¬ ì¶”ë¡  ë¬¸ì œ
            logical: [
                {
                    id: 'l1',
                    category: 'logical',
                    categoryName: 'ë…¼ë¦¬ ì¶”ë¡ ',
                    difficulty: 1,
                    question: 'ëª¨ë“  ìƒˆëŠ” ë‚ ê°œê°€ ìˆë‹¤. ì°¸ìƒˆëŠ” ìƒˆë‹¤. ë‹¤ìŒ ì¤‘ ë°˜ë“œì‹œ ì°¸ì¸ ê²ƒì€?',
                    options: [
                        'ëª¨ë“  ë‚ ê°œê°€ ìˆëŠ” ê²ƒì€ ìƒˆë‹¤',
                        'ì°¸ìƒˆëŠ” ë‚ ê°œê°€ ìˆë‹¤',
                        'ë‚ ê°œê°€ ì—†ìœ¼ë©´ ì°¸ìƒˆê°€ ì•„ë‹ˆë‹¤',
                        'ëª¨ë“  ìƒˆëŠ” ì°¸ìƒˆë‹¤'
                    ],
                    correct: 1,
                    explanation: 'ì‚¼ë‹¨ë…¼ë²•ì— ì˜í•´ ì°¸ìƒˆëŠ” ìƒˆì´ë¯€ë¡œ ë‚ ê°œê°€ ìˆìŠµë‹ˆë‹¤.'
                },
                {
                    id: 'l2',
                    category: 'logical',
                    categoryName: 'ë…¼ë¦¬ ì¶”ë¡ ',
                    difficulty: 2,
                    question: 'A > B, B > C, D > A ì¼ ë•Œ, ê°€ì¥ í° ê²ƒì€?',
                    options: ['A', 'B', 'C', 'D'],
                    correct: 3,
                    explanation: 'D > A > B > C ìˆœì„œì´ë¯€ë¡œ Dê°€ ê°€ì¥ í½ë‹ˆë‹¤.'
                },
                {
                    id: 'l3',
                    category: 'logical',
                    categoryName: 'ë…¼ë¦¬ ì¶”ë¡ ',
                    difficulty: 2,
                    question: '"ë¹„ê°€ ì˜¤ë©´ ë•…ì´ ì –ëŠ”ë‹¤"ì˜ ëŒ€ìš° ëª…ì œëŠ”?',
                    options: [
                        'ë•…ì´ ì –ìœ¼ë©´ ë¹„ê°€ ì˜¨ë‹¤',
                        'ë¹„ê°€ ì˜¤ì§€ ì•Šìœ¼ë©´ ë•…ì´ ì –ì§€ ì•ŠëŠ”ë‹¤',
                        'ë•…ì´ ì –ì§€ ì•Šìœ¼ë©´ ë¹„ê°€ ì˜¤ì§€ ì•ŠëŠ”ë‹¤',
                        'ë•…ì´ ì –ì–´ë„ ë¹„ê°€ ì˜¤ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤'
                    ],
                    correct: 2,
                    explanation: 'ëŒ€ìš° ëª…ì œëŠ” ì›ë˜ ëª…ì œì˜ ê²°ë¡ ì„ ë¶€ì •í•˜ê³  ê°€ì •ì„ ë¶€ì •í•œ ê²ƒì…ë‹ˆë‹¤.'
                },
                {
                    id: 'l4',
                    category: 'logical',
                    categoryName: 'ë…¼ë¦¬ ì¶”ë¡ ',
                    difficulty: 3,
                    question: '5ëª…ì´ ì›í˜• í…Œì´ë¸”ì— ì•‰ìŠµë‹ˆë‹¤. AëŠ” B ë°”ë¡œ ì˜†, CëŠ” Dì˜ ë§ì€í¸. Aì™€ C ì‚¬ì´ì—ëŠ” 1ëª…ì´ ìˆìŠµë‹ˆë‹¤. EëŠ” ëˆ„êµ¬ ì˜†ì— ì•‰ì•„ìˆì„ê¹Œìš”?',
                    options: [
                        'Aì™€ C ì˜†',
                        'Bì™€ D ì˜†',
                        'Aì™€ D ì˜†',
                        'Bì™€ C ì˜†'
                    ],
                    correct: 1,
                    explanation: 'ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë°°ì¹˜ì—ì„œ EëŠ” Bì™€ D ì˜†ì— ì•‰ìŠµë‹ˆë‹¤.'
                },
                {
                    id: 'l5',
                    category: 'logical',
                    categoryName: 'ë…¼ë¦¬ ì¶”ë¡ ',
                    difficulty: 3,
                    question: 'ì–´ë–¤ ìˆ˜ì— 3ì„ ê³±í•œ í›„ 7ì„ ë¹¼ë©´ 20ì´ ë©ë‹ˆë‹¤. ì›ë˜ ìˆ˜ëŠ”?',
                    options: ['7', '8', '9', '10'],
                    correct: 2,
                    explanation: '(x Ã— 3) - 7 = 20 â†’ 3x = 27 â†’ x = 9'
                }
            ],
            
            // ì–¸ì–´ ìœ ì¶” ë¬¸ì œ
            verbal: [
                {
                    id: 'v1',
                    category: 'verbal',
                    categoryName: 'ì–¸ì–´ ìœ ì¶”',
                    difficulty: 1,
                    question: 'ì±… : ë…ì„œ = ìŒì•… : ?',
                    analogy: ['ì±…', 'ë…ì„œ', 'ìŒì•…', '?'],
                    options: ['ì•…ê¸°', 'ì²­ì·¨', 'ê°€ìˆ˜', 'ì½˜ì„œíŠ¸'],
                    correct: 1,
                    explanation: 'ì±…ì„ í•˜ëŠ” í–‰ìœ„ê°€ ë…ì„œì´ë“¯, ìŒì•…ì„ í•˜ëŠ” í–‰ìœ„ëŠ” ì²­ì·¨ì…ë‹ˆë‹¤.'
                },
                {
                    id: 'v2',
                    category: 'verbal',
                    categoryName: 'ì–¸ì–´ ìœ ì¶”',
                    difficulty: 2,
                    question: 'ì˜ì‚¬ : ë³‘ì› = êµì‚¬ : ?',
                    analogy: ['ì˜ì‚¬', 'ë³‘ì›', 'êµì‚¬', '?'],
                    options: ['í•™ìƒ', 'í•™êµ', 'êµì‹¤', 'êµìœ¡'],
                    correct: 1,
                    explanation: 'ì˜ì‚¬ê°€ ì¼í•˜ëŠ” ê³³ì´ ë³‘ì›ì´ë“¯, êµì‚¬ê°€ ì¼í•˜ëŠ” ê³³ì€ í•™êµì…ë‹ˆë‹¤.'
                },
                {
                    id: 'v3',
                    category: 'verbal',
                    categoryName: 'ì–¸ì–´ ìœ ì¶”',
                    difficulty: 2,
                    question: 'ì† : ì¥ê°‘ = ë°œ : ?',
                    analogy: ['ì†', 'ì¥ê°‘', 'ë°œ', '?'],
                    options: ['ë‹¤ë¦¬', 'ì–‘ë§', 'ì‹ ë°œ', 'ê±·ê¸°'],
                    correct: 1,
                    explanation: 'ì†ì— ë¼ëŠ” ê²ƒì´ ì¥ê°‘ì´ë“¯, ë°œì— ì‹ ëŠ” ê²ƒì€ ì–‘ë§ì…ë‹ˆë‹¤.'
                },
                {
                    id: 'v4',
                    category: 'verbal',
                    categoryName: 'ì–¸ì–´ ìœ ì¶”',
                    difficulty: 3,
                    question: 'ë¹› : ì–´ë‘  = ì§€ì‹ : ?',
                    analogy: ['ë¹›', 'ì–´ë‘ ', 'ì§€ì‹', '?'],
                    options: ['í•™êµ', 'ë¬´ì§€', 'ì±…', 'ê³µë¶€'],
                    correct: 1,
                    explanation: 'ë¹›ì˜ ë°˜ëŒ€ê°€ ì–´ë‘ ì´ë“¯, ì§€ì‹ì˜ ë°˜ëŒ€ëŠ” ë¬´ì§€ì…ë‹ˆë‹¤.'
                },
                {
                    id: 'v5',
                    category: 'verbal',
                    categoryName: 'ì–¸ì–´ ìœ ì¶”',
                    difficulty: 3,
                    question: 'ì”¨ì•— : ë‚˜ë¬´ = ìœ ì¶© : ?',
                    analogy: ['ì”¨ì•—', 'ë‚˜ë¬´', 'ìœ ì¶©', '?'],
                    options: ['ì•Œ', 'ë‚˜ë¹„', 'ë²Œë ˆ', 'ê½ƒ'],
                    correct: 1,
                    explanation: 'ì”¨ì•—ì´ ìë¼ë©´ ë‚˜ë¬´ê°€ ë˜ë“¯, ìœ ì¶©ì´ ìë¼ë©´ ë‚˜ë¹„ê°€ ë©ë‹ˆë‹¤.'
                }
            ]
        };
        
        // ============================================
        // í…ŒìŠ¤íŠ¸ ìƒíƒœ ê´€ë¦¬
        // ============================================
        
        let currentQuestionIndex = 0;
        let allQuestions = [];
        let answers = [];
        let timer = null;
        let timeLeft = 60;
        let startTime = null;
        let responseTimes = [];
        
        // ============================================
        // í…ŒìŠ¤íŠ¸ ì´ˆê¸°í™” ë° ì‹œì‘
        // ============================================
        
        function startTest() {
            // ëª¨ë“  ì¹´í…Œê³ ë¦¬ì—ì„œ ë¬¸ì œ ìˆ˜ì§‘ ë° ì„ê¸°
            allQuestions = [
                ...shuffleArray(questions.pattern),
                ...shuffleArray(questions.numerical),
                ...shuffleArray(questions.spatial),
                ...shuffleArray(questions.logical),
                ...shuffleArray(questions.verbal)
            ];
            
            // ì¹´í…Œê³ ë¦¬ë³„ë¡œ ì„ì´ë„ë¡ ì „ì²´ ì¬ë°°ì—´
            allQuestions = shuffleArray(allQuestions);
            
            // ë‹µë³€ ë°°ì—´ ì´ˆê¸°í™”
            answers = new Array(allQuestions.length).fill(null);
            responseTimes = new Array(allQuestions.length).fill(null);
            
            document.getElementById('intro').style.display = 'none';
            document.getElementById('test').style.display = 'block';
            
            loadQuestion(0);
        }
        
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // ============================================
        // ë¬¸ì œ ë¡œë“œ ë° í‘œì‹œ
        // ============================================
        
        function loadQuestion(index) {
            currentQuestionIndex = index;
            const q = allQuestions[index];
            
            // ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸
            document.getElementById('progress').style.width = `${((index + 1) / allQuestions.length) * 100}%`;
            document.getElementById('questionNum').textContent = `ë¬¸ì œ ${index + 1}/${allQuestions.length}`;
            document.getElementById('categoryBadge').textContent = q.categoryName;
            
            // ë¬¸ì œ ë‚´ìš© ë Œë”ë§
            const contentDiv = document.getElementById('questionContent');
            contentDiv.innerHTML = renderQuestionContent(q);
            
            // ì„ íƒì§€ ë Œë”ë§
            const optionsDiv = document.getElementById('optionsGrid');
            optionsDiv.innerHTML = q.options.map((opt, i) => `
                <div class="option" onclick="selectOption(${i})" data-index="${i}">
                    <span class="option-label">${opt}</span>
                </div>
            `).join('');
            
            // ì´ì „ ë‹µë³€ì´ ìˆìœ¼ë©´ í‘œì‹œ
            if (answers[index] !== null) {
                const selectedOption = optionsDiv.querySelector(`[data-index="${answers[index]}"]`);
                if (selectedOption) selectedOption.classList.add('selected');
                document.getElementById('nextBtn').disabled = false;
            } else {
                document.getElementById('nextBtn').disabled = true;
            }
            
            // íƒ€ì´ë¨¸ ì‹œì‘
            startTimer();
            startTime = Date.now();
        }
        
        function renderQuestionContent(q) {
            let html = `<p class="question-text">${q.question}</p>`;
            
            if (q.matrix) {
                html += '<div class="matrix-grid">';
                q.matrix.forEach((cell, i) => {
                    const isEmpty = cell === '?';
                    html += `<div class="matrix-cell ${isEmpty ? 'empty' : ''}">${isEmpty ? '?' : cell}</div>`;
                });
                html += '</div>';
            }
            
            if (q.sequence) {
                html += '<div class="sequence-display">';
                q.sequence.forEach(item => {
                    const isUnknown = item === '?';
                    html += `<div class="sequence-item ${isUnknown ? 'unknown' : ''}">${item}</div>`;
                });
                html += '</div>';
            }
            
            if (q.analogy) {
                html += '<div class="analogy-display">';
                html += `<span class="analogy-item">${q.analogy[0]}</span>`;
                html += `<span class="analogy-separator">:</span>`;
                html += `<span class="analogy-item">${q.analogy[1]}</span>`;
                html += `<span class="analogy-separator">=</span>`;
                html += `<span class="analogy-item">${q.analogy[2]}</span>`;
                html += `<span class="analogy-separator">:</span>`;
                html += `<span class="analogy-item unknown">?</span>`;
                html += '</div>';
            }
            
            if (q.shapeType === 'cube' && q.cubeNet) {
                html += `<div style="text-align: center; margin: 20px 0; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                    <p style="color: #8892b0;">${q.cubeNet}</p>
                </div>`;
            }
            
            if (q.shapeType === 'rotation' && q.shape) {
                html += `<div style="text-align: center; margin: 20px 0; font-size: 3rem;">${q.shape}</div>`;
            }
            
            return html;
        }
        
        // ============================================
        // íƒ€ì´ë¨¸ ê´€ë¦¬
        // ============================================
        
        function startTimer() {
            clearInterval(timer);
            timeLeft = 60;
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    autoNext();
                }
            }, 1000);
        }
        
        function updateTimerDisplay() {
            const timerEl = document.getElementById('timer');
            timerEl.textContent = `${timeLeft}ì´ˆ`;
            timerEl.style.color = timeLeft <= 10 ? '#ff6b6b' : '#fff';
        }
        
        // ============================================
        // ë‹µë³€ ì„ íƒ ë° ë„¤ë¹„ê²Œì´ì…˜
        // ============================================
        
        function selectOption(index) {
            // ì´ì „ ì„ íƒ í•´ì œ
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            
            // ìƒˆ ì„ íƒ
            document.querySelector(`[data-index="${index}"]`).classList.add('selected');
            answers[currentQuestionIndex] = index;
            responseTimes[currentQuestionIndex] = Date.now() - startTime;
            
            document.getElementById('nextBtn').disabled = false;
        }
        
        function nextQuestion() {
            clearInterval(timer);
            
            if (currentQuestionIndex < allQuestions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            } else {
                showResults();
            }
        }
        
        function skipQuestion() {
            clearInterval(timer);
            responseTimes[currentQuestionIndex] = 60000; // ìµœëŒ€ ì‹œê°„
            
            if (currentQuestionIndex < allQuestions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            } else {
                showResults();
            }
        }
        
        function autoNext() {
            responseTimes[currentQuestionIndex] = 60000;
            
            if (currentQuestionIndex < allQuestions.length - 1) {
                loadQuestion(currentQuestionIndex + 1);
            } else {
                showResults();
            }
        }
        
        // ============================================
        // ê²°ê³¼ ê³„ì‚° ë° í‘œì‹œ
        // ============================================
        
        function calculateResults() {
            const categoryScores = {
                pattern: { correct: 0, total: 0 },
                numerical: { correct: 0, total: 0 },
                spatial: { correct: 0, total: 0 },
                logical: { correct: 0, total: 0 },
                verbal: { correct: 0, total: 0 }
            };
            
            let totalCorrect = 0;
            let totalDifficulty = 0;
            let weightedScore = 0;
            
            allQuestions.forEach((q, i) => {
                categoryScores[q.category].total++;
                
                if (answers[i] === q.correct) {
                    categoryScores[q.category].correct++;
                    totalCorrect++;
                    
                    // ë‚œì´ë„ ê°€ì¤‘ì¹˜ ì ìš© (ì–´ë ¤ìš´ ë¬¸ì œì¼ìˆ˜ë¡ ë†’ì€ ì ìˆ˜)
                    const difficultyWeight = q.difficulty;
                    
                    // ì‘ë‹µ ì‹œê°„ ë³´ë„ˆìŠ¤ (ë¹ ë¥¼ìˆ˜ë¡ ë†’ì€ ì ìˆ˜)
                    const timeBonus = Math.max(0, 1 - (responseTimes[i] / 60000)) * 0.2;
                    
                    weightedScore += difficultyWeight * (1 + timeBonus);
                    totalDifficulty += difficultyWeight;
                } else {
                    totalDifficulty += q.difficulty;
                }
            });
            
            // IQ ì ìˆ˜ ê³„ì‚° (í‘œì¤€í™”)
            // ì›ì ìˆ˜ ë¹„ìœ¨ì„ ì •ê·œë¶„í¬ë¡œ ë³€í™˜
            const rawPercentage = weightedScore / totalDifficulty;
            
            // í‘œì¤€ IQ ì²™ë„ë¡œ ë³€í™˜ (í‰ê·  100, í‘œì¤€í¸ì°¨ 15)
            // z-score ë³€í™˜ í›„ IQ ì²™ë„ ì ìš©
            const zScore = (rawPercentage - 0.5) * 4; // -2 ~ +2 ë²”ìœ„
            const iqScore = Math.round(100 + (zScore * 15));
            
            // IQ ë²”ìœ„ ì œí•œ (55 ~ 145)
            const finalIQ = Math.max(55, Math.min(145, iqScore));
            
            return {
                iq: finalIQ,
                categoryScores,
                totalCorrect,
                totalQuestions: allQuestions.length
            };
        }
        
        function getIQClassification(iq) {
            if (iq >= 130) return { label: 'ë§¤ìš° ìš°ìˆ˜ (Very Superior)', desc: 'ìƒìœ„ 2% ì´ë‚´ì˜ ë›°ì–´ë‚œ ì¸ì§€ëŠ¥ë ¥ì„ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤.', percentile: 98 };
            if (iq >= 120) return { label: 'ìš°ìˆ˜ (Superior)', desc: 'ìƒìœ„ 10% ì´ë‚´ì˜ ìš°ìˆ˜í•œ ì¸ì§€ëŠ¥ë ¥ì…ë‹ˆë‹¤.', percentile: 91 };
            if (iq >= 110) return { label: 'í‰ê·  ìƒ (High Average)', desc: 'í‰ê·  ì´ìƒì˜ ì¢‹ì€ ì¸ì§€ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.', percentile: 75 };
            if (iq >= 90) return { label: 'í‰ê·  (Average)', desc: 'ì¼ë°˜ì ì¸ ìˆ˜ì¤€ì˜ ì¸ì§€ëŠ¥ë ¥ì…ë‹ˆë‹¤.', percentile: 50 };
            if (iq >= 80) return { label: 'í‰ê·  í•˜ (Low Average)', desc: 'í‰ê· ë³´ë‹¤ ì•½ê°„ ë‚®ì€ ìˆ˜ì¤€ì…ë‹ˆë‹¤.', percentile: 25 };
            if (iq >= 70) return { label: 'ê²½ê³„ì„  (Borderline)', desc: 'ê²½ê³„ì„  ìˆ˜ì¤€ì˜ ì¸ì§€ëŠ¥ë ¥ì…ë‹ˆë‹¤.', percentile: 9 };
            return { label: 'ë°œë‹¬ ì§€ì—° ê°€ëŠ¥ì„±', desc: 'ì „ë¬¸ê°€ ìƒë‹´ì„ ê¶Œì¥í•©ë‹ˆë‹¤.', percentile: 2 };
        }
        
        function showResults() {
            document.getElementById('test').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            
            const results = calculateResults();
            const classification = getIQClassification(results.iq);
            
            // IQ ì ìˆ˜ í‘œì‹œ
            document.getElementById('iqScore').textContent = results.iq;
            document.getElementById('classLabel').textContent = classification.label;
            document.getElementById('classDesc').textContent = classification.desc;
            document.getElementById('percentile').textContent = `ìƒìœ„ ${100 - classification.percentile}% (ë°±ë¶„ìœ„ ${classification.percentile})`;
            
            // ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜ í‘œì‹œ
            setTimeout(() => {
                const categories = ['pattern', 'numerical', 'spatial', 'logical', 'verbal'];
                categories.forEach(cat => {
                    const score = results.categoryScores[cat];
                    const percentage = (score.correct / score.total) * 100;
                    
                    document.getElementById(`${cat}Bar`).style.width = `${percentage}%`;
                    document.getElementById(`${cat}Score`).textContent = `${score.correct}/${score.total} (${Math.round(percentage)}%)`;
                });
            }, 100);
        }
    </script>
</body>
</html>
