# 🔒 IQZone 보안 점검 체크리스트

> **권장 주기**: 매월 1일 (또는 매월 첫째 주)
> **소요 시간**: 약 15-20분
> **담당자**: 프로젝트 관리자

## 📅 점검 기록

| 점검일 | 담당자 | 발견된 이슈 | 조치사항 | 상태 |
|--------|--------|-------------|----------|------|
| 2024-12-08 | 관리자 | 초기 보안 설정 | Firebase 보안 규칙 적용 | ✅ 완료 |
| YYYY-MM-DD |        |             |          |      |
| YYYY-MM-DD |        |             |          |      |

---

## 🎯 1. Firebase 보안 상태 점검

### A. Firebase Console 접속 확인
- [ ] Firebase Console 정상 접속 가능
- [ ] 프로젝트 `iqzone-rankings` 활성 상태
- [ ] 관리자 권한 유지 확인

### B. Firestore 보안 규칙 검증
- [ ] Firestore Database → 규칙 페이지 접속
- [ ] 현재 보안 규칙이 올바르게 적용되어 있는지 확인
- [ ] 예상치 못한 규칙 변경 없음 확인

**올바른 보안 규칙 (참고용)**:
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /rankings/{document} {
      allow read: if true;
      allow write: if
        request.resource.size() < 50000 &&
        request.resource.data.keys().hasAll(['allTime', 'weekly']) &&
        request.time > resource.data.lastUpdated + duration.value(10, 's');
    }
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
```

### C. API 키 설정 확인
- [ ] Google Cloud Console → API 및 서비스 → 사용자 인증 정보
- [ ] API 키 제한사항이 여전히 활성화되어 있는지 확인
- [ ] 승인된 도메인 목록 확인

---

## 🌐 2. 웹사이트 보안 기능 테스트

### A. 기본 보안 기능 확인
- [ ] https://cattowel39200.github.io/iqtest/ 접속
- [ ] F12 → Console에서 "✅ Firebase 연결 성공" 메시지 확인
- [ ] "🔒 보안: 승인된 도메인에서 접근 중" 메시지 확인

### B. 무단 도메인 접근 차단 테스트
- [ ] 다른 도메인에서 코드 복사/실행 시 차단 여부 확인
- [ ] 로컬 파일(file://) 접근 시 경고 메시지 표시 확인

### C. 기능 정상 작동 확인
- [ ] IQ 테스트 정상 완료 가능
- [ ] 랭킹 등록 및 표시 정상 작동
- [ ] 주간 랭킹 및 전체 랭킹 동기화 정상

---

## 📊 3. 데이터 보안 및 무결성 점검

### A. Firebase Usage 모니터링
- [ ] Firebase Console → Usage 탭
- [ ] 비정상적인 읽기/쓰기 급증 없음 확인
- [ ] 예산 한도 설정 및 알림 확인

### B. 데이터 백업 상태 확인
- [ ] Firestore 자동 백업 설정 확인
- [ ] 데이터 손실 위험 요소 점검

### C. 스팸/악용 패턴 확인
- [ ] 랭킹 데이터에서 비정상적인 점수 패턴 확인
- [ ] 동일 IP/닉네임의 과도한 등록 확인
- [ ] 의심스러운 활동 로그 확인

---

## 🔍 4. 코드 보안 점검

### A. GitHub 저장소 보안
- [ ] `.gitignore`가 제대로 작동하고 있는지 확인
- [ ] 새로운 민감 파일이 추가되지 않았는지 확인
- [ ] 커밋 히스토리에서 의도치 않은 민감 정보 노출 없음

### B. 의존성 보안 확인
- [ ] Firebase SDK 버전이 최신인지 확인
- [ ] 보안 패치가 필요한 라이브러리 없음 확인

### C. 도메인 보안 상태
- [ ] GitHub Pages 도메인 정상 작동
- [ ] HTTPS 인증서 유효성 확인
- [ ] 단축 URL(zrr.kr) 정상 리다이렉트

---

## ⚠️ 5. 위험 요소 모니터링

### A. 외부 위협 확인
- [ ] Firebase 프로젝트에 대한 무단 접근 시도 로그 확인
- [ ] DDoS나 과도한 트래픽 패턴 없음 확인

### B. 내부 위험 요소
- [ ] 관리자 계정 보안 상태 점검
- [ ] 2단계 인증 활성화 상태 확인

### C. 규정 준수 확인
- [ ] 개인정보보호 정책 준수 상태
- [ ] 면책 조항 적절성 검토

---

## 🚨 6. 문제 발견 시 대응 절차

### 즉시 조치 (Critical)
1. **보안 규칙 변경 감지**
   - 즉시 올바른 규칙으로 복구
   - 변경 원인 조사

2. **무단 접근 감지**
   - Firebase Console 접근 권한 재검토
   - 관리자 계정 비밀번호 변경

3. **데이터 무결성 문제**
   - 문제 데이터 격리
   - 백업에서 복구 검토

### 일반 조치 (Normal)
1. **성능 이슈**
   - 사용량 최적화
   - 예산 조정 검토

2. **사용자 신고**
   - 신고 내용 조사
   - 필요시 데이터 정리

---

## 📈 7. 보안 개선 권장사항

### 단기 개선 (1개월 내)
- [ ] Firebase Analytics 설정으로 상세 모니터링
- [ ] 사용자 인증 시스템 도입 검토
- [ ] API Rate Limiting 강화

### 중기 개선 (3개월 내)
- [ ] 서버사이드 검증 로직 추가
- [ ] 정기 보안 감사 도구 도입
- [ ] 백업 및 복구 절차 문서화

### 장기 개선 (6개월 내)
- [ ] 전문 보안 감사 수행
- [ ] 보안 인증 취득 검토
- [ ] 재해 복구 계획 수립

---

## 📞 비상 연락처 및 리소스

- **Firebase 지원**: https://firebase.google.com/support/
- **Google Cloud 보안**: https://cloud.google.com/security/
- **GitHub 보안**: https://github.com/security

---

## ✅ 점검 완료 확인

**점검자 서명**: ________________
**점검 완료일**: ________________
**다음 점검 예정일**: ________________

**종합 평가**:
- [ ] 🟢 양호 - 문제 없음
- [ ] 🟡 주의 - 경미한 문제 발견, 조치 완료
- [ ] 🔴 위험 - 심각한 문제 발견, 즉시 조치 필요

**추가 메모**:
```
(발견된 문제점, 조치사항, 개선 제안 등을 자유롭게 기록)
```